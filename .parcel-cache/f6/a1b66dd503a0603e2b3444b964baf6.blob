{"mappings":"sjBAEIA,EAEAC,GAAW,WAgCNC,IACPF,EACGG,SACAC,MAAMC,IACLC,SAASC,SACTN,GAAW,EACXO,QAAQC,IAAG,sBAEZC,OAAOC,UACNH,QAAQC,IAAG,4BAA8BE,GACnCA,KAEVC,aAGOA,IACPJ,QAAQC,IAAG,YACM,IAAbR,IACFY,SAASC,cAAa,uBAAwBC,UAAUC,IAAG,QAC3DH,SAASC,cAAa,sBAAuBC,UAAUE,OAAM,UAE9C,IAAbhB,IACFY,SAASC,cAAa,uBAAwBC,UAAUE,OAAM,QAC9DJ,SAASC,cAAa,sBAAuBC,UAAUC,IAAG,yBAnDxDE,EAAI,IAAOC,EAAAC,GAAP,CAAa,CACnBC,OAAM,6DACNC,WAAW,IAEbtB,EAAOkB,EAAKK,cACZf,QAAQC,IAAIT,cAOC,OAATA,IACFQ,QAAQC,IAAG,YACXR,GAAW,GAEA,OAATD,IACFC,GAAW,EAEXO,QAAQC,IAAIT,GACZa,SAASC,cAAa,aAAcU,UAClCxB,EAAKyB,cAAcC,KAAKC,WAK5Bd,SAASC,cAAa,WAAYc,iBAAgB,QAAU1B,GAnB5D2B,GACAjB,IAVFkB","sources":["dashboard.js"],"sourcesContent":["import GoTrue from \"gotrue-js\";\r\n\r\nlet user;\r\nlet user2;\r\nlet loggedIn = false;\r\n\r\ncheckUser();\r\nfunction checkUser() {\r\n  let auth = new GoTrue({\r\n    APIUrl: \"https://serene-clarke-d069ee.netlify.app/.netlify/identity\",\r\n    setCookie: true,\r\n  });\r\n  user = auth.currentUser();\r\n  console.log(user);\r\n\r\n  setUser();\r\n  setSidebar();\r\n}\r\n\r\nfunction setUser() {\r\n  if (user === null) {\r\n    console.log(\"naa dude\");\r\n    loggedIn = false;\r\n  }\r\n  if (user !== null) {\r\n    loggedIn = true;\r\n\r\n    console.log(user);\r\n    document.querySelector(\".username\").innerHTML =\r\n      user.user_metadata.data.full_name;\r\n  }\r\n\r\n  // document.querySelector(\".username\").innerHTML =\r\n  //   user.user_metadata.data.full_name;\r\n  document.querySelector(\".logout\").addEventListener(\"click\", handleLogout);\r\n}\r\nfunction handleLogout() {\r\n  user\r\n    .logout()\r\n    .then((response) => {\r\n      location.reload();\r\n      loggedIn = false;\r\n      console.log(\"User logged out\");\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Failed to logout user: %o\", error);\r\n      throw error;\r\n    });\r\n  setSidebar();\r\n}\r\n\r\nfunction setSidebar() {\r\n  console.log(\"setSide\");\r\n  if (loggedIn === true) {\r\n    document.querySelector(\".sidebar-logged-out\").classList.add(\"hide\");\r\n    document.querySelector(\".sidebar-logged-in\").classList.remove(\"hide\");\r\n  }\r\n  if (loggedIn === false) {\r\n    document.querySelector(\".sidebar-logged-out\").classList.remove(\"hide\");\r\n    document.querySelector(\".sidebar-logged-in\").classList.add(\"hide\");\r\n  }\r\n}\r\n"],"names":["$6ab541d3da24610b68234565bc595648$var$user","$6ab541d3da24610b68234565bc595648$var$loggedIn","$6ab541d3da24610b68234565bc595648$var$handleLogout","logout","then","response","location","reload","console","log","catch","error","$6ab541d3da24610b68234565bc595648$var$setSidebar","document","querySelector","classList","add","remove","auth","$parcel$interopDefault","$17dAM","APIUrl","setCookie","currentUser","innerHTML","user_metadata","data","full_name","addEventListener","$6ab541d3da24610b68234565bc595648$var$setUser","$6ab541d3da24610b68234565bc595648$var$checkUser"],"version":3,"file":"dashboard.HASH_REF_5c5b673441cc7a85c0aed9e483ac406b.js.map"}