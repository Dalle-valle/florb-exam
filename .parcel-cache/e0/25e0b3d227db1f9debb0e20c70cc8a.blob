var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
var _gotrueJs = require("gotrue-js");
var _gotrueJsDefault = parcelHelpers.interopDefault(_gotrueJs);
let user;
let logginIn;
checkUser();
function checkUser() {
    let auth = new _gotrueJsDefault.default({
        APIUrl: "https://serene-clarke-d069ee.netlify.app/.netlify/identity",
        setCookie: true
    });
    user = auth.currentUser();
    console.log(user);
    if (user !== null) {
        if (user.user_metadata.florbs.length > 0) setFlorbs();
    }
}
function setFlorbs() {
    const container = document.querySelector(".created-florbs");
    const florbTemplate = document.querySelector("template");
    const florbArray = user.user_metadata.florbs;
    florbArray.forEach((florb)=>{
        console.log(florb);
        let clone = florbTemplate.cloneNode(true).content;
        clone.querySelector(".florbs-name").innerHTML = florb.name;
        clone.querySelector(".florb-img").innerHTML = florb.svg;
        container.appendChild(clone);
    });
    document.querySelectorAll(".delete").forEach((button)=>addEventlistener("click", deleteFlorb)
    );
}
function deleteFlorb() {
    console.log("del");
}
